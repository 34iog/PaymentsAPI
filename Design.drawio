<mxfile host="app.diagrams.net" modified="2024-07-21T18:29:02.468Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.5.1 Safari/605.1.15" etag="zl0l1GDEIJPQOlmP43Dc" version="24.7.1" type="device">
  <diagram name="Page-1" id="FXD40h9IF3WJERdPcNiW">
    <mxGraphModel dx="583" dy="1678" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-1" target="iRF0hu1xgqJh-2SyrXFm-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="140" y="200" />
              <mxPoint x="140" y="340" />
              <mxPoint x="190" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-1" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="85" y="170" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-2" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="85" y="310" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-3" target="iRF0hu1xgqJh-2SyrXFm-14">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="140" y="480" />
              <mxPoint x="140" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-3" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="85" y="450" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-5" target="iRF0hu1xgqJh-2SyrXFm-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-5" value="Distributed REST Payment Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="310" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-8" target="iRF0hu1xgqJh-2SyrXFm-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-8" value="Distributed REST Payment Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="420" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-9" target="iRF0hu1xgqJh-2SyrXFm-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-9" value="Distributed REST Payment Service" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="200" width="250" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-14" target="iRF0hu1xgqJh-2SyrXFm-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-14" target="iRF0hu1xgqJh-2SyrXFm-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-14" value="API Gateway" style="triangle;whiteSpace=wrap;html=1;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="270" y="285" width="90" height="110" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-2" target="iRF0hu1xgqJh-2SyrXFm-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-14" target="iRF0hu1xgqJh-2SyrXFm-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="430" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-28" value="Users&amp;nbsp;&lt;div&gt;Request to create a payment&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="100" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-31" value="Horizontal Autoscaling&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="260" y="230" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-32" value="API Gateway&amp;nbsp;&lt;div&gt;Routes requests to API&lt;/div&gt;&lt;div&gt;Autoscales based on traffic&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="210" y="85" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-34" value="&lt;div style=&quot;text-align: center;&quot;&gt;Payment Service&lt;/div&gt;&lt;div&gt;POST /api/payments&lt;/div&gt;&lt;div&gt;GET /api/payment-methods&lt;/div&gt;&lt;div&gt;POST /api/payment-methods/{payerId}&lt;/div&gt;&lt;div&gt;PUT /api/payment-methods/{payerId}/{paymentMethodId}&lt;/div&gt;&lt;div&gt;GET /api//payees&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="80" width="310" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-35" value="Horizontal Autoscaling&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="150" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-37" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Assumptions&lt;/h1&gt;&lt;p&gt;All payers and payees are already signed up through intuit&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="-80" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-38" value="&lt;span style=&quot;text-align: left;&quot;&gt;SQL&lt;/span&gt;&lt;br&gt;&lt;div&gt;Database (Write)&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="740" y="580" width="110" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-41" value="Kafka Queue&lt;div&gt;Payments&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="305" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-49" value="Horizontal Autoscaling&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1020" y="255" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-52" target="iRF0hu1xgqJh-2SyrXFm-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-52" value="Risk Engine" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1010" y="300" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-41" target="iRF0hu1xgqJh-2SyrXFm-52">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="990" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-57" value="Pulls from queue" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="930" y="300" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-58" value="Queue Benefits&lt;div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;FIFO processing&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div&gt;Decoupling of Sender Payment Service) and the receiver. &amp;nbsp;The sender can continue processing and sending messages to the queue without waiting for the receiver.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Asynchronous Processing&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;div&gt;Fault Tolerance and Reliability&lt;/div&gt;&lt;div&gt;- If risk engine fails or is temporarily down, messages remain in the queue until they can be processed.&amp;nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;Queues like Kafka can persist messages to disk so messages are not lost if the system crashes.&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;Autoscaling Control:&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;- Allows for the Risk Engine to scale based on the number of messages in a queue.&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;Throttling:&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;- Allows for throttling so downstream systems don&#39;t get overwhelmed.&amp;nbsp;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="720" y="-60" width="255" height="340" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-8" target="iRF0hu1xgqJh-2SyrXFm-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="525" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-92" value="Write" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iRF0hu1xgqJh-2SyrXFm-63">
          <mxGeometry x="-0.1059" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-64" target="iRF0hu1xgqJh-2SyrXFm-68">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1070" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-64" value="ML Model" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1010" y="420" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-72" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-68" target="iRF0hu1xgqJh-2SyrXFm-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-73" value="Accept" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iRF0hu1xgqJh-2SyrXFm-72">
          <mxGeometry x="-0.3333" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-68" value="Accept/Deny Payment&lt;div&gt;Confidence Score&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="530" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-68" target="iRF0hu1xgqJh-2SyrXFm-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="890" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-76" value="Write" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iRF0hu1xgqJh-2SyrXFm-70">
          <mxGeometry x="0.06" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-78" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-71" target="iRF0hu1xgqJh-2SyrXFm-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-71" value="Process Payment Queue" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="650" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-83" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-77" target="iRF0hu1xgqJh-2SyrXFm-81">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-77" value="Distributed Payment Executor" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="760" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-79" value="Horizontal Autoscaling&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1175" y="765" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-80" value="Distributed Notification Executor" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="970" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-84" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-81" target="iRF0hu1xgqJh-2SyrXFm-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-81" value="Send Notifications Queue" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="975" y="870" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-85" value="Horizontal Autoscaling&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1175" y="975" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-87" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Database Structure&lt;/h1&gt;&lt;p&gt;SQL is chosen over NoSQL because we need:&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Strong data consistency&lt;br&gt;&lt;/li&gt;&lt;li&gt;Relationships between data (e.g. joins, indexing)&amp;nbsp;&lt;br&gt;&lt;/li&gt;&lt;li&gt;Structured data&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;Tables:&lt;/p&gt;&lt;p&gt;Primary and foreign keys indexed for faster search &amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Payers&lt;/li&gt;&lt;ul&gt;&lt;li&gt;payer_id (primary key)&lt;/li&gt;&lt;li&gt;personal info&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Payees&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;payee_id (primary key)&lt;/li&gt;&lt;li&gt;personal info&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Payments&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;payment_id (primary key)&lt;/li&gt;&lt;li&gt;payer_id (foreign key)&lt;/li&gt;&lt;li&gt;payee_id (foreign key)&lt;/li&gt;&lt;li&gt;payment_method_id (foreign key)&lt;/li&gt;&lt;li&gt;timestamp, status, currency&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;PaymentMethods&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;payment_method_id (primary key)&lt;/li&gt;&lt;li&gt;payer_id (foreign key)&lt;/li&gt;&lt;li&gt;payment type, payment info&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;RiskAssessments&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;risk_assessment_id (primary key)&lt;/li&gt;&lt;li&gt;payment_id (foreign key)&lt;/li&gt;&lt;li&gt;timestamp, status&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="160" y="560" width="300" height="500" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-88" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-77" target="iRF0hu1xgqJh-2SyrXFm-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-89" value="Write" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iRF0hu1xgqJh-2SyrXFm-88">
          <mxGeometry x="-0.4769" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-90" value="&lt;span style=&quot;text-align: left;&quot;&gt;SQL&lt;/span&gt;&lt;br&gt;&lt;div&gt;Database (Read Replica)&lt;/div&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="500" y="580" width="110" height="130" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="iRF0hu1xgqJh-2SyrXFm-8" target="iRF0hu1xgqJh-2SyrXFm-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-94" value="Read" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="iRF0hu1xgqJh-2SyrXFm-91">
          <mxGeometry x="0.24" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-95" value="Horizontal Autoscaling&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="505" y="715" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="iRF0hu1xgqJh-2SyrXFm-96" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Database Scale, Availability, Recovery&lt;/h1&gt;&lt;p&gt;Streaming Replication&lt;/p&gt;&lt;p&gt;Changes from the primary database are continuously streamed to one or more standby servers. This provides real-time data replication and redundancy.&lt;/p&gt;&lt;p&gt;Backup&lt;/p&gt;&lt;p&gt;Regular backups performed and stored in object storage (S3)&lt;/p&gt;&lt;p&gt;Read Replicas&lt;/p&gt;&lt;p&gt;Offload read operations from the primary database and allow for distributed databases.&amp;nbsp;&lt;/p&gt;&lt;p&gt;Automatic Failover&lt;/p&gt;&lt;p&gt;If the primary database fails, the system automatically promotes a standby server to primary.&lt;br&gt;&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="505" y="830" width="330" height="520" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
